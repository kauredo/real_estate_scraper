<div class="container mx-auto px-4 py-8">
  <div class="max-w-6xl mx-auto">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-3xl font-bold text-dark dark:text-light"><%= I18n.t('navbar.testimonies') %></h2>
      <%= link_to new_backoffice_testimonial_path, 
          class: 'bg-beige-default hover:bg-beige-medium text-white dark:text-dark font-bold py-2 px-6 rounded-lg transition duration-150 ease-in-out flex items-center gap-2' do %>
        <i class="fas fa-plus"></i>
        <span>Novo Testemunho</span>
      <% end %>
    </div>

    <p class="text-gray-600 mb-6 text-lg">
      <i class="fas fa-comments mr-2"></i>
      <%= pluralize(@testimonials.count, 'testemunho', 'testemunhos') %>
    </p>

    <div class="grid gap-6">
      <% @testimonials.each do |testimonial| %>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition hover:shadow-lg">
          <div class="flex flex-col sm:flex-row justify-between gap-4">
            <div class="flex-1">
              <div class="relative">
                <p class="text-gray-700 dark:text-gray-300 text-lg mb-3 whitespace-pre-line">
                  <span class="inline-block mr-1 text-xl">"</span><%= testimonial.text %><span class="inline-block ml-1 text-xl">"</span>
                </p>
              </div>
              <p class="font-medium text-gray-900 dark:text-gray-100">
                â€” <%= testimonial.name %>
              </p>
            </div>
            <div class="flex items-center gap-3">
              <%= link_to edit_backoffice_testimonial_path(testimonial), 
                  class: 'inline-flex items-center gap-2 bg-beige-default hover:bg-beige-medium text-white dark:text-dark font-bold py-2 px-4 rounded-lg transition duration-150 ease-in-out' do %>
                <i class="fas fa-edit"></i>
                <span>Editar</span>
              <% end %>
              <%= link_to [:backoffice, testimonial], 
                  method: :delete,
                  data: { "turbo-method": :delete, confirm: 'Tem certeza que deseja excluir este testemunho?' },
                  class: 'inline-flex items-center bg-red-500 hover:bg-red-600 text-white dark:text-dark p-2 rounded-lg transition duration-150 ease-in-out' do %>
                <i class="fas fa-trash-alt"></i>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
